## Демо приложения-прототипа для анализа рыночной корзины


### Исходное условие задачи:

Даны заказы за полгода с данными по номеру заказа, городу, номеру товара, количеству позиций товара в заказе, стоимости продажи всех позиций данного товара. Необходимо определить товары - "якоря" основные, и дополнительные, сопутствующие. Результатом должен быть список сопутствующих и основных товаров как по всей выборке данных, так и в разрезе каждого города.


### Решение:

Для поиска основных и сопутствующих товаров было решено применить методы анализа рыночной корзины для поиска условных зависимостей между группами товаров. Фактически анализ строился на двух этапах - поиска достаточно частых групп товаров, а затем, выбора внутри частых групп тех бинарных разделений на основные и сопутствующие подгруппы, которые преодолевали бы порог уверенности, после чего значения фильтровались по наличию неотрицательной взаимосвязи.

Используя терминологию Market Basket Analysis, отбор частых правил производился по support, формирование правил по - confidence, и допольнительная фильтрация осуществлялась по lift.

В качестве пороговых значений были выбраны те, при которых правил получается не очень много и они могут представлять какую-то ценность для бизнеса:
- support - .001
- confidence - .9
- lift - 1

Для оптимизации работы майнинг прототипа, были использованы некоторые особенности разреженных данных. Более детальное описание этих и других особенностей, можно посмотреть в соответствующих блокнотах.


### Ответ:

csv с готовыми правилам расположен в директории data и содержит в себе как основные группы товаров (antecedents), так и сопутствующие (consequents), а также значения всех полезных метрик. Значения колонки org соответствуют городам, по которым проводился анализ. Пустое значение org - для правил, которые собраны по всем городам. Товары в группах разделены пробелами.


### Используемые инструменты:

- Python 3.7.6 (default, Jan  8 2020, 20:23:39) \[MSC v.1916 64 bit (AMD64)\]
- numpy 1.18.1
- scipy 1.3.2
- pandas 1.0.0
- matplotlib 3.1.2
- [mlxtend](http://rasbt.github.io/mlxtend/api_subpackages/mlxtend.frequent_patterns/) 0.17.1
